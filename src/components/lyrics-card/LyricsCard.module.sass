@import '../../assets/fonts/programme/stylesheet.css'
@import '../../assets/fonts/sf-arabic/stylesheet.css'
@import '../../_mixins'

.card
    position: relative
    display: grid

    line-height: 1.25
    *
        font-family: "SF Arabic", "Programme", sans-serif
        &:lang(ar)
            direction: rtl

    .background, .shade
        position: absolute
        inset: 0
        width: 100%
        height: 100%

    .plain-background
        width: 100%
        height: 100%
        background-size: 20px
        background-position: top-left

    .background
        grid-row: 1/2

        background-color: #dadada

        background-size: cover
        background-position: center

        z-index: 2

        overflow: hidden

    .shade
        grid-row: 1/2
        background: linear-gradient(0deg, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%)
        z-index: 3
        pointer-events: none

    main
        z-index: 4
        position: relative

        grid-row: 1/2
        align-self: flex-end
        display: flex
        pointer-events: none
        gap: 5px

        .lyrics-container
            display: flex
            flex-direction: column
            .editable-label
                .wrapping-span
                    padding: 0.25rem
    &[data-aspect-ratio='1:1'],
    &[data-aspect-ratio='3:4']
        grid-template-rows: 1fr 15%
        main
            flex-direction: column
            padding: 1rem 1rem 1.2rem
            .quote
                @apply w-7 msm:w-10
            .main-footer
                display: flex
            .aux-footer
                display: none

        &[data-alignment='left']
            main
                align-items: flex-start
                .lyrics-container
                    align-items: flex-start
                .quote
                    transform: scaleX(1)
        &[data-alignment='right']
            main
                align-items: flex-end
                .lyrics-container
                    align-items: flex-end
                .quote
                    transform: scaleX(-1)
    &[data-aspect-ratio='1:1']
        .lyrics-container
            gap: fluid(320, 11, 500, 12)
            .editable-label
                font-size: fluid(320, 10.5, 500, 18)
    &[data-aspect-ratio='3:4']
        .lyrics-container
            gap: fluid(320, 6, 500, 7)
            .editable-label
                font-size: fluid(320, 9.5, 500, 16)
                .wrapping-span
                    padding: 2px
    &[data-aspect-ratio='3:2']
        grid-template-rows: 1fr 0
        main
            align-items: flex-start
            gap: fluid(320, 0, 500, 16)
            padding: 0 fluid(320, 5, 500, 24) 0
        .quote
            @apply w-5 msm:w-8
        .lyrics-container
            gap: fluid(320, 1, 500, 14.4)
            .editable-label
                font-size: fluid(320, 6, 500, 22)
                .wrapping-span
                    padding: 0.25rem
                    padding: fluid(300, 0, 500, 4)
        .main-footer
            display: none
        .aux-footer
            display: flex
        &[data-alignment='left']
            main
                flex-direction: row
                justify-content: flex-start
                .lyrics-container
                    align-items: flex-start
                .aux-footer
                    text-align: left
        &[data-alignment='right']
            main
                flex-direction: row-reverse
                justify-content: flex-end
                .quote
                    transform: scaleX(-1)
                .lyrics-container
                    align-items: flex-end
                .aux-footer
                    text-align: right

@media screen and (max-width: 500px)
    .card .plain-background
        background-size: 10px
